<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <ul id="menu">
      <li><a href="product.html?type=dienThoai">Điện thoại</a></li>
      <li><a href="product.html?type=laptop">Laptop</a></li>
      <li><a href="product.html?type=hoaQua">Hoa quả</a></li>
      <li><a href="product.html?type=sach">Sách</a></li>
      <li><a href="product.html?type=aoQuan">Áo quần</a></li>
    </ul>

    <div id="product-list"></div>

    <script>
      const data = {
        dienThoai: [

          { id: 1, ten: "Phone", gia: 800000 },

          { id: 2, ten: "Samsung", gia: 600000 },
          { id: 3, ten: "Xiaomi", gia: 50000 },
        ],
        laptop: [
          { id: 1, ten: "MacBook", gia: 30000000 },
          { id: 2, ten: "Asus", gia: 25000000 },
          { id: 3, ten: "Dell", gia: 20000000 },
        ],
        hoaQua: [
          { id: 1, ten: "Táo", gia: 50000 },
          { id: 2, ten: "Cam", gia: 30000 },
          { id: 3, ten: "Xoài", gia: 40000 },
        ],
        sach: [
          { id: 1, ten: "Đắc nhân tâm", gia: 90000 },
          { id: 2, ten: "Tuổi trẻ", gia: 80000 },
          { id: 3, ten: "1984", gia: 75000 },
        ],
        aoQuan: [
          { id: 1, ten: "Áo thun", gia: 120000 },
          { id: 2, ten: "Quần jean", gia: 200000 },
          { id: 3, ten: "Áo khoác", gia: 300000 },
        ],
      };
      localStorage.setItem("data", JSON.stringify(data));
      const getdata = JSON.parse(localStorage.getItem("data"));
      const params = new URLSearchParams(window.location.search);
      const type = params.get("type"); // ví dụ 'laptop'

      const productList = document.getElementById("product-list");
      const arr = getdata[type]; // mảng sản phẩm

      arr.forEach((p) => {
        const div = document.createElement("div");
        div.innerHTML = `<h4 onclick="changePage('${type}',${p.id})">${
          p.ten
        }</h4><p>Giá: ${p.gia.toLocaleString()}đ</p>`;
        productList.appendChild(div);
      });
      const changePage = (type, id) => {
        window.location.href = `index.html?type=${type}&id=${id}`;
      };
    </script>
  </body>
</html>
